<!doctype html>
<html>
<head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Inventario</title>
<link rel="stylesheet" href="/css/style.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body>
<div class="app">
  <aside class="sidebar">
    <div class="brand"><div class="logo">P</div><div><h1>Podología</h1><div style="font-size:12px;color:var(--muted)">Panel</div></div></div>
    <nav class="nav">
      <a href="/pages/admin.html"><span class="ico"><i class="fa-solid fa-house"></i></span> Dashboard</a>
      <a href="/pages/productos.html"><span class="ico"><i class="fa-solid fa-box"></i></span> Productos</a>
      <a href="/pages/clientes.html"><span class="ico"><i class="fa-solid fa-user"></i></span> Clientes</a>
      <a href="/pages/proveedores.html"><span class="ico"><i class="fa-solid fa-truck"></i></span> Proveedores</a>
      <a href="/pages/inventario.html" class="active"><span class="ico"><i class="fa-solid fa-warehouse"></i></span> Inventario</a>
      <a href="/pages/ventas.html"><span class="ico"><i class="fa-solid fa-cash-register"></i></span> Ventas</a>
    </nav>
    <div style="margin-top:18px"><a href="#" id="logout" class="nav"><span class="ico"><i class="fa-solid fa-arrow-right-from-bracket"></i></span> Cerrar sesión</a></div>
  </aside>

  <main class="main">
    <div class="topbar">
      <div class="search card"><i class="fa-solid fa-magnifying-glass" style="margin-right:8px;color:var(--muted)"></i><input placeholder="Buscar..." id="search" /></div>
      <div class="actions"><a class="button">Actualizar stock</a></div>
    </div>

    <div class="card">
      <h3>Inventario</h3>
      <pre id="list"></pre>
    </div>
  </main>
</div>

<script>
async function load(){
  const r = await fetch('/api/productos', {credentials:'include'});
  const data = await r.json();
  document.getElementById('list').innerText = JSON.stringify(data, null, 2);
}
document.getElementById('logout').addEventListener('click', async (e)=>{e.preventDefault(); await fetch('/api/auth/logout',{method:'POST', credentials:'include'}); window.location='/'});
load();
</script>
</body>
</html>
